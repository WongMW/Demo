@model SoftwareDesign.GTM.Model.ImpressionDto


<script>
    // Measure the removal of a product from a shopping cart.
    dataLayer.push({
        'event': 'removeFromCart',
        'ecommerce': {
            'currencyCode': '@Model.Currency',
            'remove': {                               // 'remove' actionFieldObject measures.
                'products': [
                    @foreach (var detail in Model.Products)
                    {
                        <text>
                            { //  adding a product to a shopping cart.
                                'name': '@detail.Name',
                                'id': '@detail.Id',
                                'price': '@detail.GetPrice()',
                                'brand': '@detail.Brand',
                                'category': '@detail.Category',
                                'variant': '@detail.Variant',
                                'quantity': @detail.Quantity
                            },
                        </text>
                    }
                ]
            }
        }
    });
</script>
